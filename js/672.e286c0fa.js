(self["webpackChunkrendez_vous_ci"]=self["webpackChunkrendez_vous_ci"]||[]).push([[672],{1672:(o,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>fo});s(246),s(71);var l=s(3673),n=s(8880),i=s(2323);const a={class:"col-md-7 col-lg-8 col-xl-9"},t={class:"card"},r={class:"card-body"},p={class:"row form-row"},m={class:"col-12 col-md-12"},d={class:"form-group"},u={class:"change-avatar"},c={class:"profile-img"},f={class:"upload-img"},h={class:"change-photo-btn"},v=(0,l.Wm)("span",null,[(0,l.Wm)("i",{class:"fa fa-upload"}),(0,l.Uk)(" Uploader une photo de profil")],-1),g={type:"file",name:"image",ref:"image",class:"upload",value:null},W=(0,l.Wm)("small",{class:"form-text text-muted"},"Allowed JPG, GIF or PNG. Max size of 2MB",-1),b={class:"col-12 col-md-6"},y={class:"form-group"},_=(0,l.Wm)("label",null,"Nom",-1),w={class:"col-12 col-md-6"},U={class:"form-group"},k=(0,l.Wm)("label",null,"Last Name",-1),M={class:"col-12 col-md-6"},P={class:"form-group"},V=(0,l.Wm)("label",null,"Titre",-1),x=(0,l.uE)('<option> - </option><option value="Mr">Mr</option><option value="Mme">Mme</option><option value="Mlle">Mlle</option><option value="Dr">Dr</option><option value="Prof">Prof</option><option value="Maitre">Maitre</option><option value="Honorable">Honorable</option>',8),$=(0,l.uE)('<div class="col-md-6"><div class="form-group"><label>Genre</label><select class="form-control select"><option>Select</option><option value="M">Homme</option><option value="F">Femme</option></select></div></div>',1),j={class:"col-md-6"},F={class:"form-group"},S=(0,l.Wm)("label",null,"Numéro de tel",-1),z={class:"col-md-6"},q={class:"form-group"},C=(0,l.Wm)("label",null,"Profession",-1),D=(0,l.Wm)("option",null,"Select",-1),G={class:"col-12"},H={class:"form-group"},N=(0,l.Wm)("label",null,"Adresse",-1),Q={class:"col-12 col-md-6"},Z={class:"form-group"},A=(0,l.Wm)("label",null,"Pays",-1),B={class:"col-12 col-md-6"},E={class:"form-group"},I=(0,l.Wm)("label",null,"Ville",-1),L={class:"card"},J={class:"card-body"},K=(0,l.Wm)("h4",{class:"card-title"},"A propos de moi",-1),O={class:"col-12"},T={class:"form-group"},Y=(0,l.Wm)("label",null,"Description breve",-1),R={class:"form-group"},X=(0,l.Wm)("label",null,"Biographie",-1),oo={class:"submit-section submit-btn-bottom"},eo=(0,l.Uk)("Sauvegarder Modifications. ");function so(o,e,s,so,lo,no){const io=(0,l.up)("q-editor"),ao=(0,l.up)("q-spinner");return(0,l.wg)(),(0,l.j4)("div",a,[(0,l.Wm)("div",t,[(0,l.Wm)("div",r,[(0,l.Wm)("div",p,[(0,l.Wm)("div",m,[(0,l.Wm)("div",d,[(0,l.Wm)("div",u,[(0,l.Wm)("div",c,[null==o.user.userable.image?((0,l.wg)(),(0,l.j4)("img",{key:0,src:"https://eu.ui-avatars.com/api/?rounded=true&color=ffffff&background=20c0f3&name="+o.user.userable.given_names+"+"+o.user.userable.last_name,alt:"User Image"},null,8,["src"])):((0,l.wg)(),(0,l.j4)("img",{key:1,src:o.user.userable.image,alt:"User Image"},null,8,["src"]))]),(0,l.Wm)("div",f,[(0,l.Wm)("div",h,[v,(0,l.Wm)("input",g,null,512)]),W])])])]),(0,l.Wm)("div",b,[(0,l.Wm)("div",y,[_,(0,l.wy)((0,l.Wm)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>lo.professionnal.last_name=o)},null,512),[[n.nr,lo.professionnal.last_name]])])]),(0,l.Wm)("div",w,[(0,l.Wm)("div",U,[k,(0,l.wy)((0,l.Wm)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>lo.professionnal.given_names=o)},null,512),[[n.nr,lo.professionnal.given_names]])])]),(0,l.Wm)("div",M,[(0,l.Wm)("div",P,[V,(0,l.wy)((0,l.Wm)("select",{class:"form-control select","onUpdate:modelValue":e[3]||(e[3]=o=>lo.professionnal.titre=o)},[x],512),[[n.bM,lo.professionnal.titre]])])]),$,(0,l.Wm)("div",j,[(0,l.Wm)("div",F,[S,(0,l.wy)((0,l.Wm)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>lo.professionnal.phone_number=o),class:"form-control"},null,512),[[n.nr,lo.professionnal.phone_number]])])]),(0,l.Wm)("div",z,[(0,l.Wm)("div",q,[C,(0,l.wy)((0,l.Wm)("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>lo.professionnal.profession_id=o),class:"form-control select"},[D,((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(lo.professions,(o=>((0,l.wg)(),(0,l.j4)("option",{value:o.id,key:o.id},(0,i.zw)(o.name),9,["value"])))),128))],512),[[n.bM,lo.professionnal.profession_id]])])]),(0,l.Wm)("div",G,[(0,l.Wm)("div",H,[N,(0,l.wy)((0,l.Wm)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=o=>lo.professionnal.address=o)},null,512),[[n.nr,lo.professionnal.address]])])]),(0,l.Wm)("div",Q,[(0,l.Wm)("div",Z,[A,(0,l.wy)((0,l.Wm)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>lo.professionnal.country=o)},null,512),[[n.nr,lo.professionnal.country]])])]),(0,l.Wm)("div",B,[(0,l.Wm)("div",E,[I,(0,l.wy)((0,l.Wm)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=o=>lo.professionnal.town=o)},null,512),[[n.nr,lo.professionnal.town]])])])])])]),(0,l.Wm)("div",L,[(0,l.Wm)("div",J,[K,(0,l.Wm)("div",O,[(0,l.Wm)("div",T,[Y,(0,l.wy)((0,l.Wm)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>lo.professionnal.bio_description=o)},null,512),[[n.nr,lo.professionnal.bio_description]])])]),(0,l.Wm)("div",R,[X,(0,l.Wm)(io,{modelValue:lo.professionnal.description,"onUpdate:modelValue":e[10]||(e[10]=o=>lo.professionnal.description=o),definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}}},null,8,["modelValue"])])])]),(0,l.Wm)("div",oo,[(0,l.Wm)("button",{type:"submit",onClick:e[11]||(e[11]=(...o)=>no.sauvegarder&&no.sauvegarder(...o)),class:"btn btn-primary submit-btn"},[eo,lo.loading?((0,l.wg)(),(0,l.j4)(ao,{key:0,color:"white",size:"1.5em",thickness:2})):(0,l.kq)("",!0)])])])}var lo=s(515),no=s.n(lo),io=s(7874);const ao={data(){return{professionnal:{titre:null,phone_number:null,hourly_rate:null,image:null,bio_description:null,is_verified:null,address:null,skills:null,country:null,town:null,logo:null,description:"",is_active:null,last_name:null,given_names:null,profession_id:null},filteredProfessions:[],professions:[],loading:!1,image:null}},mounted(){this.getProfessionnal(),this.getProfessions()},computed:no()({},(0,io.Se)("auth",["authenticated","user"])),methods:{getProfessionnal(){this.$api.get("professionnals/"+this.user.userable.id,{with:"user"}).then((o=>{this.professionnal=o.data,null==this.professionnal.description&&(this.professionnal.description="")})).catch((o=>console.log(o)))},getProfessions(){this.$api.get("professions").then((o=>{this.professions=o.data,this.loading=!1})).catch((o=>console.log(o)))},sauvegarder(){this.loading=!0;let o=new FormData;null!=this.$refs.image&&0!=this.$refs.image.length&&o.append("image",this.$refs.image.files[0]);let e=this.professionnal;null!=e.titre&&o.append("titre",this.professionnal.titre),null!=e.phone_number&&o.append("phone_number",this.professionnal.phone_number),null!=e.hourly_rate&&o.append("hourly_rate",this.professionnal.hourly_rate),null!=e.bio_description&&o.append("bio_description",this.professionnal.bio_description),null!=e.address&&o.append("address",this.professionnal.address),null!=e.country&&o.append("country",this.professionnal.country),null!=e.town&&o.append("town",this.professionnal.town),null!=e.description&&o.append("description",this.professionnal.description),null!=e.last_name&&o.append("last_name",this.professionnal.last_name),null!=e.given_names&&o.append("given_names",this.professionnal.given_names),o.append("_method","put"),this.$api.post("professionnals/"+this.professionnal.id,o,{headers:{"content-type":"multipart/form-data"}}).then((o=>{this.$store.dispatch("auth/getUser").then((o=>{this.$q.notify({message:"Profil modifié avec succès",color:"primary"}),this.loading=!0,this.$router.push("/dashboard")})).catch((o=>console.log(o)))})).catch((o=>console.log(o)))},filterFn(o,e){e(""!==o?()=>{o.toLowerCase();this.filteredProfessions=this.professions.filter((o=>this.professions.indexOf(o.name)>-1))}:()=>{this.filteredProfessions=this.professions})}}};var to=s(4974),ro=s(6983),po=s(6697),mo=s(6833),uo=s(7518),co=s.n(uo);ao.render=so;const fo=ao;co()(ao,"components",{QFile:to.Z,QSelect:ro.Z,QEditor:po.Z,QSpinner:mo.Z})}}]);