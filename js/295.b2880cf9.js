(self["webpackChunkrendez_vous_ci"]=self["webpackChunkrendez_vous_ci"]||[]).push([[295],{7295:(s,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>I});var a=e(3673),l=e(8880),t=e(3242),n=e.n(t);const i={class:"content"},r={class:"container-fluid"},c={class:"row"},m={class:"col-md-8 offset-md-2"},d={class:"account-content"},u={class:"row align-items-center justify-content-center"},f=(0,a.Wm)("div",{class:"col-md-7 col-lg-6 login-left"},[(0,a.Wm)("img",{src:n(),class:"img-fluid",alt:"Doccure Login"})],-1),g={class:"col-md-12 col-lg-6 login-right"},p=(0,a.Wm)("div",{class:"login-header"},[(0,a.Wm)("h3",null,[(0,a.Uk)("Se "),(0,a.Wm)("span",null,"Connecter")])],-1),h={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},b=(0,a.Wm)("strong",null,"Oups !",-1),v=(0,a.Uk)(" A "),W=(0,a.Wm)("a",{href:"#",class:"alert-link"},"Il semble que vos imformations de connexion soit incorrectes",-1),k=(0,a.Uk)(" . "),w=(0,a.Wm)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close"},[(0,a.Wm)("span",{"aria-hidden":"true"},"×")],-1),y={class:"form-group form-focus"},U=(0,a.Wm)("label",{class:"focus-label"},"Email",-1),C={class:"form-group form-focus"},S=(0,a.Wm)("label",{class:"focus-label"},"Password",-1),q=(0,a.Wm)("div",{class:"text-right"},[(0,a.Wm)("a",{class:"forgot-link",href:"forgot-password.html"},"Mot de passe oublié ?")],-1),$={class:"btn btn-primary btn-block btn-lg login-btn",type:"submit"},_=(0,a.Uk)("Se connecter "),x=(0,a.uE)('<div class="login-or"><span class="or-line"></span><span class="span-or">ou</span></div><div class="row form-row social-login"><div class="col-6"><a href="#" class="btn btn-facebook btn-block"><i class="fab fa-facebook-f mr-1"></i> Login</a></div><div class="col-6"><a href="#" class="btn btn-google btn-block"><i class="fab fa-google mr-1"></i> Login</a></div></div>',2),j={class:"text-center dont-have"},z=(0,a.Uk)("Vous n'avez pas de compte ? "),E=(0,a.Uk)("Creer en un");function L(s,o,e,t,n,L){const O=(0,a.up)("q-spinner"),A=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)("div",i,[(0,a.Wm)("div",r,[(0,a.Wm)("div",c,[(0,a.Wm)("div",m,[(0,a.Wm)("div",d,[(0,a.Wm)("div",u,[f,(0,a.Wm)("div",g,[p,(0,a.Wm)("form",{onSubmit:o[3]||(o[3]=(0,l.iM)((s=>L.login()),["prevent"]))},[n.falseCredit?((0,a.wg)(),(0,a.j4)("div",h,[b,v,W,k,w])):(0,a.kq)("",!0),(0,a.Wm)("div",y,[(0,a.wy)((0,a.Wm)("input",{type:"email",name:"email","onUpdate:modelValue":o[1]||(o[1]=s=>n.form.email=s),class:"form-control floating"},null,512),[[l.nr,n.form.email]]),U]),(0,a.Wm)("div",C,[(0,a.wy)((0,a.Wm)("input",{type:"password",name:"password","onUpdate:modelValue":o[2]||(o[2]=s=>n.form.password=s),class:"form-control floating"},null,512),[[l.nr,n.form.password]]),S]),q,(0,a.Wm)("button",$,[_,n.loading?((0,a.wg)(),(0,a.j4)(O,{key:0,color:"white",size:"1.5em",thickness:2})):(0,a.kq)("",!0)]),x,(0,a.Wm)("div",j,[z,(0,a.Wm)(A,{to:"/register"},{default:(0,a.w5)((()=>[E])),_:1})])],32)])])])])])])])}e(7280);const O={data(){return{form:{email:null,password:null},falseCredit:!1,loading:!1}},methods:{login(){this.loading=!0;let s=null;this.$api.post("login",this.form).then((o=>{this.$q.localStorage.set("user",o.data),this.$q.localStorage.set("auth",!0),this.$store.commit("auth/setAuth",!0),console.log("login",o.data),this.$store.commit("auth/setUser",o.data),"PROFESSIONNAL"==o.data.role?s="/dashboard":"CUSTOMER"==o.data.role&&(s="/"),this.loading=!1,this.$q.notify({message:"Heureux de vous revoir à nouveau "+o.data.userable.given_names.split(" ")[0],color:"primary"}),this.$router.push(s)})).catch((s=>{this.falseCredit=!0,this.loading=!1}))}}};var A=e(6833),M=e(7518),V=e.n(M);O.render=L;const I=O;V()(O,"components",{QSpinner:A.Z})},3242:(s,o,e)=>{s.exports=e.p+"img/login-banner.8c8b97c2.svg"}}]);